<!DOCTYPE html>
<html>
<head><title>PiP Size Test</title></head>
<body>
  <h2>PiP Max Size Test</h2>
  <button id="btn">Open PiP (9999x9999)</button>

  <script>
    document.getElementById('btn').onclick = async () => {
      try {
        const pipWindow = await documentPictureInPicture.requestWindow({
          width: 9999,
          height: 9999
        });
        pipWindow.document.body.style.margin = '0';
        pipWindow.document.body.innerHTML = `
          <iframe src="https://example.com" 
            style="width:100%;height:100vh;border:none;">
          </iframe>`;
        console.log('PiP size:', pipWindow.innerWidth, pipWindow.innerHeight);
      } catch(e) {
        alert('Error: ' + e.message);
      }
    };
  </script>
</body>
</html>
